# FastAPI Bubble Tea Backend

–≠—Ç–æ —Å–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è Bubble Tea –∫–∞—Ñ–µ, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º FastAPI, PostgreSQL –∏ SQLAlchemy. –°–µ—Ä–≤–∏—Å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∑–∞–≥—Ä—É–∑–∫—É –∞–≤–∞—Ç–∞—Ä–æ–∫, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã —Å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ–º —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –ø—Ä–æ–º–æ-–∞–∫—Ü–∏–π.

---

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
- **JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
- **–ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∫–∏**
- **–ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è**
- **–í—ã—Ö–æ–¥ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞**
- **–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –≥–æ—Ä–æ–¥–∞ —Å —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞–º–∏**
- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–º–æ-–∞–∫—Ü–∏–π (–æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–π –º–∏–Ω—É—Ç—É)**

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```plaintext
.
‚îú‚îÄ‚îÄ main.py                 # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ database.py             # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
‚îú‚îÄ‚îÄ models.py               # –ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îî‚îÄ‚îÄ promotions.py       # –†–æ—É—Ç —Å –∞–∫—Ü–∏—è–º–∏
‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îú‚îÄ‚îÄ photos/             # –ê–≤–∞—Ç–∞—Ä–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ map/                # –ö–∞—Ä—Ç–∏–Ω–∫–∞ —Å –∫–∞—Ä—Ç–æ–π –≥–æ—Ä–æ–¥–∞
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ test_database.py
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ test_models.py
‚îÇ   ‚îú‚îÄ‚îÄ promotions/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ test_promotions.py
‚îÇ   ‚îî‚îÄ‚îÄ main/
‚îÇ       ‚îú‚îÄ‚îÄ test_login.py
‚îÇ       ‚îú‚îÄ‚îÄ test_logout.py
‚îÇ       ‚îú‚îÄ‚îÄ test_map.py
‚îÇ       ‚îú‚îÄ‚îÄ test_profile.py
‚îÇ       ‚îú‚îÄ‚îÄ test_register.py
‚îÇ       ‚îî‚îÄ‚îÄ test_upload_photo.py
‚îú‚îÄ‚îÄ .env                    # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ pytest.ini              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pytest
‚îî‚îÄ‚îÄ requirements.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

üõ†Ô∏è –§–∞–π–ª—ã FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    ‚úÖ main.py
    –†–æ—É—Ç—ã:
        /register
        /login
        /profile (GET –∏ PUT)
        /upload-photo
        /map
        /logout
    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç JWT, bcrypt, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, SQLAlchemy.

    ‚úÖ database.py
        - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL —á–µ—Ä–µ–∑ DATABASE_URL –∏–∑ .env
        - –°–æ–∑–¥–∞–Ω–∏–µ SessionLocal –∏ Base
        - –§—É–Ω–∫—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ get_db

    ‚úÖ models.py
    –ú–æ–¥–µ–ª—å User —Å –ø–æ–ª—è–º–∏: id, first_name, last_name, email, phone_number, password_hash, photo_path.

    ‚úÖ promotions.py
    –≠–Ω–¥–ø–æ–∏–Ω—Ç /promotions, –æ—Ç–¥–∞—ë—Ç —Å–ª—É—á–∞–π–Ω—ã–µ 3 –ø—Ä–æ–º–æ-—Ç–æ–≤–∞—Ä–∞, –º–µ–Ω—è—é—â–∏–µ—Å—è –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É.

üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
    –î–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤:
        - pytest
    –ò–ª–∏ –¥–ª—è –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞:
        - pytest -v
    –§–∞–π–ª pytest.ini –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, —á—Ç–æ–±—ã pytest –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Ö–æ–¥–∏–ª –º–æ–¥—É–ª–∏.

‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
    –§–∞–π–ª .env –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL:
        DATABASE_URL=postgresql://fastapi_user:mypassword123@localhost/fastapi_db

üê≥ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
    - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–ª—è –∞–∫—Ü–∏–π
    - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞–º–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

üìå –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
    –°–º. requirements.txt