# FastAPI Bubble Tea Backend

Это серверная часть приложения для Bubble Tea кафе, реализованная с использованием FastAPI, PostgreSQL и SQLAlchemy. Сервис поддерживает регистрацию и авторизацию пользователей, загрузку аватарок, отображение карты с расположением ресторанов и отображение текущих промо-акций.

---

## 🚀 Функциональность

- **Регистрация и авторизация пользователей**
- **JWT-аутентификация**
- **Загрузка аватарки**
- **Получение и обновление профиля**
- **Выход из аккаунта**
- **Получение карты города с ресторанами**
- **Отображение промо-акций (обновляются каждый минуту)**

---

## 🗂️ Структура проекта

```plaintext
.
├── main.py                 # Основной файл приложения
├── database.py             # Подключение к PostgreSQL
├── models.py               # Модель пользователя
├── routes/
│   └── promotions.py       # Роут с акциями
├── static/
│   ├── photos/             # Аватарки пользователей
│   └── map/                # Картинка с картой города
├── tests/
│   ├── database/
│   │   └── test_database.py
│   ├── models/
│   │   └── test_models.py
│   ├── promotions/
│   │   └── test_promotions.py
│   └── main/
│       ├── test_login.py
│       ├── test_logout.py
│       ├── test_map.py
│       ├── test_profile.py
│       ├── test_register.py
│       └── test_upload_photo.py
├── .env                    # Переменные окружения
├── pytest.ini              # Конфигурация pytest
└── requirements.txt        # Зависимости проекта


🧪 Тестирование
Для запуска всех тестов:
    pytest

Файл pytest.ini настроен на корневую директорию, чтобы pytest корректно находил модули.

⚙️ Переменные окружения
Файл .env должен содержать строку подключения к PostgreSQL:

DATABASE_URL=postgresql://fastapi_user:mypassword123@localhost/fastapi_db

🐳 Возможности для расширения
    - Добавление фильтрации и категорий для акций
    - Админ-панель для управления ресторанами и пользователями

📌 Зависимости
См. requirements.txt